var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function s(t,e,n){t.$$.on_destroy.push(a(e,n))}function l(t){return null==t?"":t}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function m(){return g(" ")}function h(){return g("")}function b(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function v(t,e){e=""+e,t.data!==e&&(t.data=e)}function w(t,e){(null!=e||t.value)&&(t.value=e)}function A(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function $(t,e,n){t.classList[n?"add":"remove"](e)}let x;function k(t){x=t}function O(t){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(t)}const j=[],C=[],D=[],_=[],T=Promise.resolve();let E=!1;function S(){E||(E=!0,T.then(I))}function F(){return S(),T}function q(t){D.push(t)}function L(t){_.push(t)}const N=new Set;function I(){do{for(;j.length;){const t=j.shift();k(t),M(t.$$)}for(;C.length;)C.pop()();for(let t=0;t<D.length;t+=1){const e=D[t];N.has(e)||(N.add(e),e())}D.length=0}while(j.length);for(;_.length;)_.pop()();E=!1,N.clear()}function M(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(q)}}const z=new Set;let P;function R(t,e){t&&t.i&&(z.delete(t),t.i(e))}function H(t,e,n,r){if(t&&t.o){if(z.has(t))return;z.add(t),P.c.push(()=>{z.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function B(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function Z(t){t&&t.c()}function J(t,n,o){const{fragment:a,on_mount:s,on_destroy:l,after_update:c}=t.$$;a&&a.m(n,o),q(()=>{const n=s.map(e).filter(i);l?l.push(...n):r(n),t.$$.on_mount=[]}),c.forEach(q)}function G(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function U(e,i,o,a,s,l,c=[-1]){const u=x;k(e);const f=i.props||{},p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c};let d=!1;p.ctx=o?o(e,f,(t,n,...r)=>{const i=r.length?r[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=i)&&(p.bound[t]&&p.bound[t](i),d&&function(t,e){-1===t.$$.dirty[0]&&(j.push(t),S(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n}):[],p.update(),d=!0,r(p.before_update),p.fragment=!!a&&a(p.ctx),i.target&&(i.hydrate?p.fragment&&p.fragment.l(function(t){return Array.from(t.childNodes)}(i.target)):p.fragment&&p.fragment.c(),i.intro&&R(e.$$.fragment),J(e,i.target,i.anchor),I()),k(u)}class W{$destroy(){G(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const Q=[];function V(e,n=t){let r;const i=[];function a(t){if(o(e,t)&&(e=t,r)){const t=!Q.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),Q.push(n,e)}if(t){for(let t=0;t<Q.length;t+=2)Q[t][0](Q[t+1]);Q.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(o,s=t){const l=[o,s];return i.push(l),1===i.length&&(r=n(a)||t),o(e),()=>{const t=i.indexOf(l);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function K(e,n,o){const s=!Array.isArray(e),l=s?[e]:e,c=n.length<2;return{subscribe:V(o,e=>{let o=!1;const u=[];let f=0,p=t;const d=()=>{if(f)return;p();const r=n(s?u[0]:u,e);c?e(r):p=i(r)?r:t},g=l.map((t,e)=>a(t,t=>{u[e]=t,f&=~(1<<e),o&&d()},()=>{f|=1<<e}));return o=!0,d(),function(){r(g),p()}}).subscribe}}var X;function Y(t){return t.type===X.literal}function tt(t){return t.type===X.argument}function et(t){return t.type===X.number}function nt(t){return t.type===X.date}function rt(t){return t.type===X.time}function it(t){return t.type===X.select}function ot(t){return t.type===X.plural}function at(t){return t.type===X.pound}function st(t){return!(!t||"object"!=typeof t||0!==t.type)}function lt(t){return!(!t||"object"!=typeof t||1!==t.type)}!function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound"}(X||(X={}));var ct,ut=(ct=function(t,e){return(ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ct(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ft=function(){return(ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},pt=function(t){function e(n,r,i,o){var a=t.call(this)||this;return a.message=n,a.expected=r,a.found=i,a.location=o,a.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,e),a}return ut(e,t),e.buildMessage=function(t,e){function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function r(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function o(t){switch(t.type){case"literal":return'"'+r(t.text)+'"';case"class":var e=t.parts.map((function(t){return Array.isArray(t)?i(t[0])+"-"+i(t[1]):i(t)}));return"["+(t.inverted?"^":"")+e+"]";case"any":return"any character";case"end":return"end of input";case"other":return t.description}}return"Expected "+function(t){var e,n,r=t.map(o);if(r.sort(),r.length>0){for(e=1,n=1;e<r.length;e++)r[e-1]!==r[e]&&(r[n]=r[e],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(t)+" but "+((a=e)?'"'+r(a)+'"':"end of input")+" found.";var a},e}(Error);var dt=function(t,e){e=void 0!==e?e:{};var n,r={},i={start:At},o=At,a=mt("#",!1),s=bt("argumentElement"),l=mt("{",!1),c=mt("}",!1),u=bt("numberSkeletonId"),f=/^['\/{}]/,p=ht(["'","/","{","}"],!1,!1),d={type:"any"},g=bt("numberSkeletonTokenOption"),m=mt("/",!1),h=bt("numberSkeletonToken"),b=mt("::",!1),y=function(t){return Jt.pop(),t.replace(/\s*$/,"")},v=mt(",",!1),w=mt("number",!1),A=function(t,e,n){return ft({type:"number"===e?X.number:"date"===e?X.date:X.time,style:n&&n[2],value:t},Ut())},$=mt("'",!1),x=/^[^']/,k=ht(["'"],!0,!1),O=/^[^a-zA-Z'{}]/,j=ht([["a","z"],["A","Z"],"'","{","}"],!0,!1),C=/^[a-zA-Z]/,D=ht([["a","z"],["A","Z"]],!1,!1),_=mt("date",!1),T=mt("time",!1),E=mt("plural",!1),S=mt("selectordinal",!1),F=mt("offset:",!1),q=mt("select",!1),L=mt("=",!1),N=bt("whitespace"),I=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,M=ht([["\t","\r"]," ",""," "," ",[" "," "],"\u2028","\u2029"," "," ","　"],!1,!1),z=bt("syntax pattern"),P=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,R=ht([["!","/"],[":","@"],["[","^"],"`",["{","~"],["¡","§"],"©","«","¬","®","°","±","¶","»","¿","×","÷",["‐","‧"],["‰","‾"],["⁁","⁓"],["⁕","⁞"],["←","⑟"],["─","❵"],["➔","⯿"],["⸀","⹿"],["、","〃"],["〈","〠"],"〰","﴾","﴿","﹅","﹆"],!1,!1),H=bt("optional whitespace"),B=bt("number"),Z=mt("-",!1),J=bt("double apostrophes"),G=mt("''",!1),U=function(t){return!("{"===t||Gt()&&"#"===t||Jt.length>1&&"}"===t)},W=mt("\n",!1),Q=bt("argNameOrNumber"),V=bt("argNumber"),K=mt("0",!1),Y=/^[1-9]/,tt=ht([["1","9"]],!1,!1),et=/^[0-9]/,nt=ht([["0","9"]],!1,!1),rt=bt("argName"),it=0,ot=0,at=[{line:1,column:1}],st=0,lt=[],ct=0;if(void 0!==e.startRule){if(!(e.startRule in i))throw new Error("Can't start parsing from rule \""+e.startRule+'".');o=i[e.startRule]}function ut(){return t.substring(ot,it)}function dt(){return vt(ot,it)}function gt(t,e){throw function(t,e){return new pt(t,[],"",e)}(t,e=void 0!==e?e:vt(ot,it))}function mt(t,e){return{type:"literal",text:t,ignoreCase:e}}function ht(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function bt(t){return{type:"other",description:t}}function yt(e){var n,r=at[e];if(r)return r;for(n=e-1;!at[n];)n--;for(r={line:(r=at[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return at[e]=r,r}function vt(t,e){var n=yt(t),r=yt(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function wt(t){it<st||(it>st&&(st=it,lt=[]),lt.push(t))}function At(){return $t()}function $t(){var t,e;for(t=[],e=xt();e!==r;)t.push(e),e=xt();return t}function xt(){var e;return(e=function(){var t,e;t=it,(e=kt())!==r&&(ot=t,n=e,e=ft({type:X.literal,value:n},Ut()));var n;return t=e}())===r&&(e=function(){var e,n,i,o;ct++,e=it,123===t.charCodeAt(it)?(n="{",it++):(n=r,0===ct&&wt(l));n!==r&&qt()!==r&&(i=zt())!==r&&qt()!==r?(125===t.charCodeAt(it)?(o="}",it++):(o=r,0===ct&&wt(c)),o!==r?(ot=e,a=i,n=ft({type:X.argument,value:a},Ut()),e=n):(it=e,e=r)):(it=e,e=r);var a;ct--,e===r&&(n=r,0===ct&&wt(s));return e}())===r&&(e=function(){var e;(e=function(){var e,n,i,o,a,s,u,f,p;e=it,123===t.charCodeAt(it)?(n="{",it++):(n=r,0===ct&&wt(l));n!==r&&qt()!==r&&(i=zt())!==r&&qt()!==r?(44===t.charCodeAt(it)?(o=",",it++):(o=r,0===ct&&wt(v)),o!==r&&qt()!==r?("number"===t.substr(it,6)?(a="number",it+=6):(a=r,0===ct&&wt(w)),a!==r&&qt()!==r?(s=it,44===t.charCodeAt(it)?(u=",",it++):(u=r,0===ct&&wt(v)),u!==r&&(f=qt())!==r&&(p=function(){var e,n,i;e=it,"::"===t.substr(it,2)?(n="::",it+=2):(n=r,0===ct&&wt(b));n!==r&&(i=function(){var t,e,n;if(t=it,e=[],(n=Ct())!==r)for(;n!==r;)e.push(n),n=Ct();else e=r;e!==r&&(ot=t,e=ft({type:0,tokens:e},Ut()));return t=e}())!==r?(ot=e,e=n=i):(it=e,e=r);e===r&&(e=it,ot=it,Jt.push("numberArgStyle"),(n=(n=!0)?void 0:r)!==r&&(i=kt())!==r?(ot=e,n=y(i),e=n):(it=e,e=r));return e}())!==r?s=u=[u,f,p]:(it=s,s=r),s===r&&(s=null),s!==r&&(u=qt())!==r?(125===t.charCodeAt(it)?(f="}",it++):(f=r,0===ct&&wt(c)),f!==r?(ot=e,n=A(i,a,s),e=n):(it=e,e=r)):(it=e,e=r)):(it=e,e=r)):(it=e,e=r)):(it=e,e=r);return e}())===r&&(e=function(){var e,n,i,o,a,s,u,f,p;e=it,123===t.charCodeAt(it)?(n="{",it++):(n=r,0===ct&&wt(l));n!==r&&qt()!==r&&(i=zt())!==r&&qt()!==r?(44===t.charCodeAt(it)?(o=",",it++):(o=r,0===ct&&wt(v)),o!==r&&qt()!==r?("date"===t.substr(it,4)?(a="date",it+=4):(a=r,0===ct&&wt(_)),a===r&&("time"===t.substr(it,4)?(a="time",it+=4):(a=r,0===ct&&wt(T))),a!==r&&qt()!==r?(s=it,44===t.charCodeAt(it)?(u=",",it++):(u=r,0===ct&&wt(v)),u!==r&&(f=qt())!==r&&(p=function(){var e,n,i;e=it,"::"===t.substr(it,2)?(n="::",it+=2):(n=r,0===ct&&wt(b));n!==r&&(i=function(){var e,n,i,o;e=it,n=it,i=[],(o=Dt())===r&&(o=_t());if(o!==r)for(;o!==r;)i.push(o),(o=Dt())===r&&(o=_t());else i=r;n=i!==r?t.substring(n,it):i;n!==r&&(ot=e,n=ft({type:1,pattern:n},Ut()));return e=n}())!==r?(ot=e,e=n=i):(it=e,e=r);e===r&&(e=it,ot=it,Jt.push("dateOrTimeArgStyle"),(n=(n=!0)?void 0:r)!==r&&(i=kt())!==r?(ot=e,n=y(i),e=n):(it=e,e=r));return e}())!==r?s=u=[u,f,p]:(it=s,s=r),s===r&&(s=null),s!==r&&(u=qt())!==r?(125===t.charCodeAt(it)?(f="}",it++):(f=r,0===ct&&wt(c)),f!==r?(ot=e,n=A(i,a,s),e=n):(it=e,e=r)):(it=e,e=r)):(it=e,e=r)):(it=e,e=r)):(it=e,e=r);return e}());return e}())===r&&(e=function(){var e,n,i,o,a,s,u,f,p,d,g;e=it,123===t.charCodeAt(it)?(n="{",it++):(n=r,0===ct&&wt(l));if(n!==r)if(qt()!==r)if((i=zt())!==r)if(qt()!==r)if(44===t.charCodeAt(it)?(o=",",it++):(o=r,0===ct&&wt(v)),o!==r)if(qt()!==r)if("plural"===t.substr(it,6)?(a="plural",it+=6):(a=r,0===ct&&wt(E)),a===r&&("selectordinal"===t.substr(it,13)?(a="selectordinal",it+=13):(a=r,0===ct&&wt(S))),a!==r)if(qt()!==r)if(44===t.charCodeAt(it)?(s=",",it++):(s=r,0===ct&&wt(v)),s!==r)if(qt()!==r)if(u=it,"offset:"===t.substr(it,7)?(f="offset:",it+=7):(f=r,0===ct&&wt(F)),f!==r&&(p=qt())!==r&&(d=Lt())!==r?u=f=[f,p,d]:(it=u,u=r),u===r&&(u=null),u!==r)if((f=qt())!==r){if(p=[],(d=Et())!==r)for(;d!==r;)p.push(d),d=Et();else p=r;p!==r&&(d=qt())!==r?(125===t.charCodeAt(it)?(g="}",it++):(g=r,0===ct&&wt(c)),g!==r?(ot=e,n=function(t,e,n,r){return ft({type:X.plural,pluralType:"plural"===e?"cardinal":"ordinal",value:t,offset:n?n[2]:0,options:r.reduce((function(t,e){var n=e.id,r=e.value,i=e.location;return n in t&&gt('Duplicate option "'+n+'" in plural element: "'+ut()+'"',dt()),t[n]={value:r,location:i},t}),{})},Ut())}(i,a,u,p),e=n):(it=e,e=r)):(it=e,e=r)}else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;return e}())===r&&(e=function(){var e,n,i,o,a,s,u,f,p;e=it,123===t.charCodeAt(it)?(n="{",it++):(n=r,0===ct&&wt(l));if(n!==r)if(qt()!==r)if((i=zt())!==r)if(qt()!==r)if(44===t.charCodeAt(it)?(o=",",it++):(o=r,0===ct&&wt(v)),o!==r)if(qt()!==r)if("select"===t.substr(it,6)?(a="select",it+=6):(a=r,0===ct&&wt(q)),a!==r)if(qt()!==r)if(44===t.charCodeAt(it)?(s=",",it++):(s=r,0===ct&&wt(v)),s!==r)if(qt()!==r){if(u=[],(f=Tt())!==r)for(;f!==r;)u.push(f),f=Tt();else u=r;u!==r&&(f=qt())!==r?(125===t.charCodeAt(it)?(p="}",it++):(p=r,0===ct&&wt(c)),p!==r?(ot=e,n=function(t,e){return ft({type:X.select,value:t,options:e.reduce((function(t,e){var n=e.id,r=e.value,i=e.location;return n in t&&gt('Duplicate option "'+n+'" in select element: "'+ut()+'"',dt()),t[n]={value:r,location:i},t}),{})},Ut())}(i,u),e=n):(it=e,e=r)):(it=e,e=r)}else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;else it=e,e=r;return e}())===r&&(e=function(){var e,n;e=it,35===t.charCodeAt(it)?(n="#",it++):(n=r,0===ct&&wt(a));n!==r&&(ot=e,n=ft({type:X.pound},Ut()));return e=n}()),e}function kt(){var t,e,n;if(t=it,e=[],(n=Nt())===r&&(n=It())===r&&(n=Mt()),n!==r)for(;n!==r;)e.push(n),(n=Nt())===r&&(n=It())===r&&(n=Mt());else e=r;return e!==r&&(ot=t,e=e.join("")),t=e}function Ot(){var e,n,i,o,a;if(ct++,e=it,n=[],i=it,o=it,ct++,(a=St())===r&&(f.test(t.charAt(it))?(a=t.charAt(it),it++):(a=r,0===ct&&wt(p))),ct--,a===r?o=void 0:(it=o,o=r),o!==r?(t.length>it?(a=t.charAt(it),it++):(a=r,0===ct&&wt(d)),a!==r?i=o=[o,a]:(it=i,i=r)):(it=i,i=r),i!==r)for(;i!==r;)n.push(i),i=it,o=it,ct++,(a=St())===r&&(f.test(t.charAt(it))?(a=t.charAt(it),it++):(a=r,0===ct&&wt(p))),ct--,a===r?o=void 0:(it=o,o=r),o!==r?(t.length>it?(a=t.charAt(it),it++):(a=r,0===ct&&wt(d)),a!==r?i=o=[o,a]:(it=i,i=r)):(it=i,i=r);else n=r;return e=n!==r?t.substring(e,it):n,ct--,e===r&&(n=r,0===ct&&wt(u)),e}function jt(){var e,n,i;return ct++,e=it,47===t.charCodeAt(it)?(n="/",it++):(n=r,0===ct&&wt(m)),n!==r&&(i=Ot())!==r?(ot=e,e=n=i):(it=e,e=r),ct--,e===r&&(n=r,0===ct&&wt(g)),e}function Ct(){var t,e,n,i;if(ct++,t=it,qt()!==r)if((e=Ot())!==r){for(n=[],i=jt();i!==r;)n.push(i),i=jt();n!==r?(ot=t,t=function(t,e){return{stem:t,options:e}}(e,n)):(it=t,t=r)}else it=t,t=r;else it=t,t=r;return ct--,t===r&&(r,0===ct&&wt(h)),t}function Dt(){var e,n,i,o;if(e=it,39===t.charCodeAt(it)?(n="'",it++):(n=r,0===ct&&wt($)),n!==r){if(i=[],(o=Nt())===r&&(x.test(t.charAt(it))?(o=t.charAt(it),it++):(o=r,0===ct&&wt(k))),o!==r)for(;o!==r;)i.push(o),(o=Nt())===r&&(x.test(t.charAt(it))?(o=t.charAt(it),it++):(o=r,0===ct&&wt(k)));else i=r;i!==r?(39===t.charCodeAt(it)?(o="'",it++):(o=r,0===ct&&wt($)),o!==r?e=n=[n,i,o]:(it=e,e=r)):(it=e,e=r)}else it=e,e=r;if(e===r)if(e=[],(n=Nt())===r&&(O.test(t.charAt(it))?(n=t.charAt(it),it++):(n=r,0===ct&&wt(j))),n!==r)for(;n!==r;)e.push(n),(n=Nt())===r&&(O.test(t.charAt(it))?(n=t.charAt(it),it++):(n=r,0===ct&&wt(j)));else e=r;return e}function _t(){var e,n;if(e=[],C.test(t.charAt(it))?(n=t.charAt(it),it++):(n=r,0===ct&&wt(D)),n!==r)for(;n!==r;)e.push(n),C.test(t.charAt(it))?(n=t.charAt(it),it++):(n=r,0===ct&&wt(D));else e=r;return e}function Tt(){var e,n,i,o,a,s,u;return e=it,qt()!==r&&(n=Rt())!==r&&qt()!==r?(123===t.charCodeAt(it)?(i="{",it++):(i=r,0===ct&&wt(l)),i!==r?(ot=it,Jt.push("select"),(!0?void 0:r)!==r&&(o=$t())!==r?(125===t.charCodeAt(it)?(a="}",it++):(a=r,0===ct&&wt(c)),a!==r?(ot=e,s=n,u=o,Jt.pop(),e=ft({id:s,value:u},Ut())):(it=e,e=r)):(it=e,e=r)):(it=e,e=r)):(it=e,e=r),e}function Et(){var e,n,i,o,a,s,u;return e=it,qt()!==r&&(n=function(){var e,n,i,o;return e=it,n=it,61===t.charCodeAt(it)?(i="=",it++):(i=r,0===ct&&wt(L)),i!==r&&(o=Lt())!==r?n=i=[i,o]:(it=n,n=r),(e=n!==r?t.substring(e,it):n)===r&&(e=Rt()),e}())!==r&&qt()!==r?(123===t.charCodeAt(it)?(i="{",it++):(i=r,0===ct&&wt(l)),i!==r?(ot=it,Jt.push("plural"),(!0?void 0:r)!==r&&(o=$t())!==r?(125===t.charCodeAt(it)?(a="}",it++):(a=r,0===ct&&wt(c)),a!==r?(ot=e,s=n,u=o,Jt.pop(),e=ft({id:s,value:u},Ut())):(it=e,e=r)):(it=e,e=r)):(it=e,e=r)):(it=e,e=r),e}function St(){var e;return ct++,I.test(t.charAt(it))?(e=t.charAt(it),it++):(e=r,0===ct&&wt(M)),ct--,e===r&&0===ct&&wt(N),e}function Ft(){var e;return ct++,P.test(t.charAt(it))?(e=t.charAt(it),it++):(e=r,0===ct&&wt(R)),ct--,e===r&&0===ct&&wt(z),e}function qt(){var e,n,i;for(ct++,e=it,n=[],i=St();i!==r;)n.push(i),i=St();return e=n!==r?t.substring(e,it):n,ct--,e===r&&(n=r,0===ct&&wt(H)),e}function Lt(){var e,n,i,o,a;return ct++,e=it,45===t.charCodeAt(it)?(n="-",it++):(n=r,0===ct&&wt(Z)),n===r&&(n=null),n!==r&&(i=Pt())!==r?(ot=e,o=n,e=n=(a=i)?o?-a:a:0):(it=e,e=r),ct--,e===r&&(n=r,0===ct&&wt(B)),e}function Nt(){var e,n;return ct++,e=it,"''"===t.substr(it,2)?(n="''",it+=2):(n=r,0===ct&&wt(G)),n!==r&&(ot=e,n="'"),ct--,(e=n)===r&&(n=r,0===ct&&wt(J)),e}function It(){var e,n,i,o,a,s;if(e=it,39===t.charCodeAt(it)?(n="'",it++):(n=r,0===ct&&wt($)),n!==r)if((i=function(){var e,n,i,o;e=it,n=it,t.length>it?(i=t.charAt(it),it++):(i=r,0===ct&&wt(d));i!==r?(ot=it,(o=(o=function(t){return"{"===t||"}"===t||Gt()&&"#"===t}(i))?void 0:r)!==r?n=i=[i,o]:(it=n,n=r)):(it=n,n=r);e=n!==r?t.substring(e,it):n;return e}())!==r){for(o=it,a=[],"''"===t.substr(it,2)?(s="''",it+=2):(s=r,0===ct&&wt(G)),s===r&&(x.test(t.charAt(it))?(s=t.charAt(it),it++):(s=r,0===ct&&wt(k)));s!==r;)a.push(s),"''"===t.substr(it,2)?(s="''",it+=2):(s=r,0===ct&&wt(G)),s===r&&(x.test(t.charAt(it))?(s=t.charAt(it),it++):(s=r,0===ct&&wt(k)));(o=a!==r?t.substring(o,it):a)!==r?(39===t.charCodeAt(it)?(a="'",it++):(a=r,0===ct&&wt($)),a===r&&(a=null),a!==r?(ot=e,e=n=i+o.replace("''","'")):(it=e,e=r)):(it=e,e=r)}else it=e,e=r;else it=e,e=r;return e}function Mt(){var e,n,i,o;return e=it,n=it,t.length>it?(i=t.charAt(it),it++):(i=r,0===ct&&wt(d)),i!==r?(ot=it,(o=(o=U(i))?void 0:r)!==r?n=i=[i,o]:(it=n,n=r)):(it=n,n=r),n===r&&(10===t.charCodeAt(it)?(n="\n",it++):(n=r,0===ct&&wt(W))),e=n!==r?t.substring(e,it):n}function zt(){var e,n;return ct++,e=it,(n=Pt())===r&&(n=Rt()),e=n!==r?t.substring(e,it):n,ct--,e===r&&(n=r,0===ct&&wt(Q)),e}function Pt(){var e,n,i,o,a;if(ct++,e=it,48===t.charCodeAt(it)?(n="0",it++):(n=r,0===ct&&wt(K)),n!==r&&(ot=e,n=0),(e=n)===r){if(e=it,n=it,Y.test(t.charAt(it))?(i=t.charAt(it),it++):(i=r,0===ct&&wt(tt)),i!==r){for(o=[],et.test(t.charAt(it))?(a=t.charAt(it),it++):(a=r,0===ct&&wt(nt));a!==r;)o.push(a),et.test(t.charAt(it))?(a=t.charAt(it),it++):(a=r,0===ct&&wt(nt));o!==r?n=i=[i,o]:(it=n,n=r)}else it=n,n=r;n!==r&&(ot=e,n=parseInt(n.join(""),10)),e=n}return ct--,e===r&&(n=r,0===ct&&wt(V)),e}function Rt(){var e,n,i,o,a;if(ct++,e=it,n=[],i=it,o=it,ct++,(a=St())===r&&(a=Ft()),ct--,a===r?o=void 0:(it=o,o=r),o!==r?(t.length>it?(a=t.charAt(it),it++):(a=r,0===ct&&wt(d)),a!==r?i=o=[o,a]:(it=i,i=r)):(it=i,i=r),i!==r)for(;i!==r;)n.push(i),i=it,o=it,ct++,(a=St())===r&&(a=Ft()),ct--,a===r?o=void 0:(it=o,o=r),o!==r?(t.length>it?(a=t.charAt(it),it++):(a=r,0===ct&&wt(d)),a!==r?i=o=[o,a]:(it=i,i=r)):(it=i,i=r);else n=r;return e=n!==r?t.substring(e,it):n,ct--,e===r&&(n=r,0===ct&&wt(rt)),e}var Ht,Bt,Zt,Jt=["root"];function Gt(){return"plural"===Jt[Jt.length-1]}function Ut(){return e&&e.captureLocation?{location:dt()}:{}}if((n=o())!==r&&it===t.length)return n;throw n!==r&&it<t.length&&wt({type:"end"}),Ht=lt,Bt=st<t.length?t.charAt(st):null,Zt=st<t.length?vt(st,st+1):vt(st,st),new pt(pt.buildMessage(Ht,Bt),Ht,Bt,Zt)},gt=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},mt=/(^|[^\\])#/g;var ht=function(){return(ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},bt=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function yt(t){var e={};return t.replace(bt,(function(t){var n=t.length;switch(t[0]){case"G":e.era=4===n?"long":5===n?"narrow":"short";break;case"y":e.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][n-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][n-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][n-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][n-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][n-1];break;case"s":e.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) pattenrs are not supported, use `s` instead");case"z":e.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) pattenrs are not supported, use `z` instead")}return""})),e}var vt=/^\.(?:(0+)(\+|#+)?)?$/g,wt=/^(@+)?(\+|#+)?$/g;function At(t){var e={};return t.replace(wt,(function(t,n,r){return"string"!=typeof r?(e.minimumSignificantDigits=n.length,e.maximumSignificantDigits=n.length):"+"===r?e.minimumSignificantDigits=n.length:"#"===n[0]?e.maximumSignificantDigits=n.length:(e.minimumSignificantDigits=n.length,e.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),e}function $t(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":return{currencySign:"accounting"};case"sign-always":return{signDisplay:"always"};case"sign-accounting-always":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":return{signDisplay:"never"}}}function xt(t){var e=$t(t);return e||{}}function kt(t){for(var e={},n=0,r=t;n<r.length;n++){var i=r[n];switch(i.stem){case"percent":e.style="percent";continue;case"currency":e.style="currency",e.currency=i.options[0];continue;case"group-off":e.useGrouping=!1;continue;case"precision-integer":e.maximumFractionDigits=0;continue;case"measure-unit":e.style="unit",e.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=ht(ht(ht({},e),{notation:"scientific"}),i.options.reduce((function(t,e){return ht(ht({},t),xt(e))}),{}));continue;case"engineering":e=ht(ht(ht({},e),{notation:"engineering"}),i.options.reduce((function(t,e){return ht(ht({},t),xt(e))}),{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue}if(vt.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(vt,(function(t,n,r){return"."===t?e.maximumFractionDigits=0:"+"===r?e.minimumFractionDigits=r.length:"#"===n[0]?e.maximumFractionDigits=n.length:(e.minimumFractionDigits=n.length,e.maximumFractionDigits=n.length+("string"==typeof r?r.length:0)),""})),i.options.length&&(e=ht(ht({},e),At(i.options[0])))}else if(wt.test(i.stem))e=ht(ht({},e),At(i.stem));else{var o=$t(i.stem);o&&(e=ht(ht({},e),o))}}return e}function Ot(t,e){var n=dt(t,e);return e&&!1===e.normalizeHashtagInPlural||function t(e){e.forEach((function(e){(ot(e)||it(e))&&Object.keys(e.options).forEach((function(n){for(var r,i=e.options[n],o=-1,a=void 0,s=0;s<i.value.length;s++){var l=i.value[s];if(Y(l)&&mt.test(l.value)){o=s,a=l;break}}if(a){var c=a.value.replace(mt,"$1{"+e.value+", number}"),u=dt(c);(r=i.value).splice.apply(r,gt([o,1],u))}t(i.value)}))}))}(n),n}var jt=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};function Ct(t){return JSON.stringify(t.map((function(t){return t&&"object"==typeof t?(e=t,Object.keys(e).sort().map((function(t){var n;return(n={})[t]=e[t],n}))):t;var e})))}var Dt,_t=function(t,e){return void 0===e&&(e={}),function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=Ct(r),a=o&&e[o];return a||(a=new((n=t).bind.apply(n,jt([void 0],r))),o&&(e[o]=a)),a}},Tt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Et=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},St=function(t){function e(e,n){var r=t.call(this,e)||this;return r.variableId=n,r}return Tt(e,t),e}(Error);function Ft(t,e,n,r,i,o,a){if(1===t.length&&Y(t[0]))return[{type:0,value:t[0].value}];for(var s,l=[],c=0,u=t;c<u.length;c++){var f=u[c];if(Y(f))l.push({type:0,value:f.value});else if(at(f))"number"==typeof o&&l.push({type:0,value:n.getNumberFormat(e).format(o)});else{var p=f.value;if(!(i&&p in i))throw new St('The intl string context variable "'+p+'" was not provided to the string "'+a+'"');var d=i[p];if(tt(f))d&&"string"!=typeof d&&"number"!=typeof d||(d="string"==typeof d||"number"==typeof d?String(d):""),l.push({type:1,value:d});else if(nt(f)){var g="string"==typeof f.style?r.date[f.style]:void 0;l.push({type:0,value:n.getDateTimeFormat(e,g).format(d)})}else if(rt(f)){g="string"==typeof f.style?r.time[f.style]:lt(f.style)?yt(f.style.pattern):void 0;l.push({type:0,value:n.getDateTimeFormat(e,g).format(d)})}else if(et(f)){g="string"==typeof f.style?r.number[f.style]:st(f.style)?kt(f.style.tokens):void 0;l.push({type:0,value:n.getNumberFormat(e,g).format(d)})}else if(it(f)){if(!(m=f.options[d]||f.options.other))throw new RangeError('Invalid values for "'+f.value+'": "'+d+'". Options are "'+Object.keys(f.options).join('", "')+'"');l.push.apply(l,Ft(m.value,e,n,r,i))}else if(ot(f)){var m;if(!(m=f.options["="+d])){if(!Intl.PluralRules)throw new St('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n');var h=n.getPluralRules(e,{type:f.pluralType}).select(d-(f.offset||0));m=f.options[h]||f.options.other}if(!m)throw new RangeError('Invalid values for "'+f.value+'": "'+d+'". Options are "'+Object.keys(f.options).join('", "')+'"');l.push.apply(l,Ft(m.value,e,n,r,i,d-(f.offset||0)))}else;}}return(s=l).length<2?s:s.reduce((function(t,e){var n=t[t.length-1];return n&&0===n.type&&0===e.type?n.value+=e.value:t.push(e),t}),[])}var qt=/@@(\d+_\d+)@@/g,Lt=0;function Nt(t,e){return t.split(qt).filter(Boolean).map((function(t){return null!=e[t]?e[t]:t})).reduce((function(t,e){return t.length&&"string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:t.push(e),t}),[])}var It=/(<([0-9a-zA-Z-_]*?)>(.*?)<\/([0-9a-zA-Z-_]*?)>)|(<[0-9a-zA-Z-_]*?\/>)/,Mt=Date.now()+"@@",zt=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function Pt(t,e,n,r,i,o){var a=Ft(t,e,n,r,i,void 0,o),s={},l=a.reduce((function(t,e){if(0===e.type)return t+e.value;var n=Date.now()+"_"+ ++Lt;return s[n]=e.value,t+"@@"+n+"@@"}),"");if(!It.test(l))return Nt(l,s);if(!i)throw new St("Message has placeholders but no values was given");if("undefined"==typeof DOMParser)throw new St("Cannot format XML message without DOMParser");Dt||(Dt=new DOMParser);var c=Dt.parseFromString('<formatted-message id="'+Mt+'">'+l+"</formatted-message>","text/html").getElementById(Mt);if(!c)throw new St("Malformed HTML message "+l);var u=Object.keys(i).filter((function(t){return!!c.getElementsByTagName(t).length}));if(!u.length)return Nt(l,s);var f=u.filter((function(t){return t!==t.toLowerCase()}));if(f.length)throw new St("HTML tag must be lowercased but the following tags are not: "+f.join(", "));return Array.prototype.slice.call(c.childNodes).reduce((function(t,e){return t.concat(function t(e,n,r){var i=e.tagName,o=e.outerHTML,a=e.textContent,s=e.childNodes;if(!i)return Nt(a||"",n);i=i.toLowerCase();var l=~zt.indexOf(i),c=r[i];if(c&&l)throw new St(i+" is a self-closing tag and can not be used, please use another tag name.");if(!s.length)return[o];var u=Array.prototype.slice.call(s).reduce((function(e,i){return e.concat(t(i,n,r))}),[]);return c?"function"==typeof c?[c.apply(void 0,u)]:[c]:Et(["<"+i+">"],u,["</"+i+">"])}(e,s,i))}),[])}var Rt=function(){return(Rt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Ht(t,e){return e?Object.keys(t).reduce((function(n,r){var i,o;return n[r]=(i=t[r],(o=e[r])?Rt(Rt(Rt({},i||{}),o||{}),Object.keys(i).reduce((function(t,e){return t[e]=Rt(Rt({},i[e]),o[e]||{}),t}),{})):i),n}),Rt({},t)):t}var Bt=function(){function t(e,n,r,i){var o,a=this;if(void 0===n&&(n=t.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(t){return function(t,e,n,r,i,o){var a=Ft(t,e,n,r,i,void 0,o);return 1===a.length?a[0].value:a.reduce((function(t,e){return t+e.value}),"")}(a.ast,a.locales,a.formatters,a.formats,t,a.message)},this.formatToParts=function(t){return Ft(a.ast,a.locales,a.formatters,a.formats,t,void 0,a.message)},this.formatHTMLMessage=function(t){return Pt(a.ast,a.locales,a.formatters,a.formats,t,a.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},"string"==typeof e){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=t.__parse(e,{normalizeHashtagInPlural:!1})}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Ht(t.formats,r),this.locales=n,this.formatters=i&&i.formatters||(void 0===(o=this.formatterCache)&&(o={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:_t(Intl.NumberFormat,o.number),getDateTimeFormat:_t(Intl.DateTimeFormat,o.dateTime),getPluralRules:_t(Intl.PluralRules,o.pluralRules)})}return t.defaultLocale=(new Intl.NumberFormat).resolvedOptions().locale,t.__parse=Ot,t.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}();const Zt=(t,e="")=>{const n={};for(const r in t){const i=e+r;"object"==typeof t[r]?Object.assign(n,Zt(t[r],`${i}.`)):n[i]=t[r]}return n};let Jt;const Gt=V({});function Ut(t){return t in Jt}function Wt(t,...e){const n=e.map(t=>Zt(t));Gt.update(e=>(e[t]=Object.assign(e[t]||{},...n),e))}K([Gt],([t])=>Object.keys(t));Gt.subscribe(t=>Jt=t);const Qt=V(!1);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function Vt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}const Kt={fallbackLocale:null,initialLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0};function Xt(){return Kt}const Yt={};function te(t){return Yt[t]}function ee(t){return le(t).reverse().some(te)}const ne={};let re;const ie=V(null);function oe(t,e){return 0===e.indexOf(t)&&t!==e}function ae(t,e){return t===e||oe(t,e)||oe(e,t)}function se(t){const e=t.lastIndexOf("-");if(e>0)return t.slice(0,e);const{fallbackLocale:n}=Xt();return n&&!ae(t,n)?n:null}function le(t){const e=t.split("-").map((t,e,n)=>n.slice(0,e+1).join("-")),{fallbackLocale:n}=Xt();return n&&!ae(t,n)?e.concat(le(n)):e}function ce(){return re}ie.subscribe(t=>{re=t,"undefined"!=typeof window&&document.documentElement.setAttribute("lang",t)});const ue=ie.set;ie.set=t=>function t(e){return null==e||Ut(e)?e:t(se(e))}(t)&&ee(t)?function(t){if(!ee(t))return;if(t in ne)return ne[t];const e=function(t){return le(t).reverse().map(t=>{const e=te(t);return[t,e?[...e]:[]]}).filter(([,t])=>t.length>0)}(t);if(0===e.length)return;const n=setTimeout(()=>Qt.set(!0),Xt().loadingDelay);return ne[t]=Promise.all(e.map(([t,e])=>Promise.all(e.map(t=>t())).then(e=>{!function(t){delete Yt[t]}(t),e=e.map(t=>t.default||t),Wt(t,...e)}))).then(()=>{clearTimeout(n),Qt.set(!1),delete ne[t]}),ne[t]}(t).then(()=>ue(t)):ue(t),ie.update=t=>ue(t(re));const fe=()=>"undefined"==typeof window?null:window.navigator.language||window.navigator.languages[0],pe={},de=(t,e)=>{if(null==e)return null;return function(t,e){if(Ut(t)){const n=function(t){return Jt[t]||null}(t);if(e in n)return n[e]}return null}(e,t)||de(t,se(e))},ge=t=>{const e=Object.create(null);return n=>{const r=JSON.stringify(n);return r in e?e[r]:e[r]=t(n)}},me=(t,e)=>{const n=Xt().formats;if(t in n&&e in n[t])return n[t][e];throw new Error(`[svelte-i18n] Unknown "${e}" ${t} format.`)},he=ge(t=>{var{locale:e,format:n}=t,r=Vt(t,["locale","format"]);if(null==e)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return n&&(r=me("number",n)),new Intl.NumberFormat(e,r)}),be=ge(t=>{var{locale:e,format:n}=t,r=Vt(t,["locale","format"]);if(null==e)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return n?r=me("date",n):0===Object.keys(r).length&&(r=me("date","short")),new Intl.DateTimeFormat(e,r)}),ye=ge(t=>{var{locale:e,format:n}=t,r=Vt(t,["locale","format"]);if(null==e)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return n?r=me("time",n):0===Object.keys(r).length&&(r=me("time","short")),new Intl.DateTimeFormat(e,r)}),ve=ge((t,e=ce())=>new Bt(t,e,Xt().formats)),we=(t,e={})=>{"object"==typeof t&&(t=(e=t).id);const{values:n,locale:r=ce(),default:i}=e;if(null==r)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");const o=((t,e)=>{if(e in pe&&t in pe[e])return pe[e][t];const n=de(t,e);return n?((t,e,n)=>n?(e in pe||(pe[e]={}),t in pe[e]||(pe[e][t]=n),n):n)(t,e,n):null})(t,r);return o?n?ve(o,r).format(n):o:(Xt().warnOnMissingMessages&&console.warn(`[svelte-i18n] The message "${t}" was not found in "${le(r).join('", "')}".${ee(ce())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""}`),i||t)},Ae=(t,e)=>((t={})=>{var{locale:e=ce()}=t,n=Vt(t,["locale"]);return ye(Object.assign({locale:e},n))})(e).format(t),$e=(t,e)=>((t={})=>{var{locale:e=ce()}=t,n=Vt(t,["locale"]);return be(Object.assign({locale:e},n))})(e).format(t),xe=(t,e)=>((t={})=>{var{locale:e=ce()}=t,n=Vt(t,["locale"]);return he(Object.assign({locale:e},n))})(e).format(t),ke=K([ie,Gt],()=>we),Oe=(K([ie],()=>Ae),K([ie],()=>$e),K([ie],()=>xe),V({})),je=t=>new Promise(e=>Oe.set({callback(...t){Oe.set({}),e(...t)},...t})),Ce=(t,e)=>je({dialog:"confirm",params:{title:t,text:e}}),De=(t,e,n)=>je({dialog:"entity",params:{title:t,key:e,props:n}}),_e=t=>{const e={},n={};return[...(new DOMParser).parseFromString(t,"text/xml").documentElement.children].forEach(t=>{const r=t.getAttribute("name"),i=t.getAttribute("type"),o=t.getAttribute("group");if("entity"===i&&"game"===r)return void[...t.children].forEach(t=>{const n=t.getAttribute("name"),r=t.innerHTML.substring(9,t.innerHTML.length-3);["lgc_version","title","author","version","revision","table_of_contents","editing_action","editing_chapter"].includes(n)&&(e[n]=r)});if("entity"===i&&"map_data"===r)return void[...t.children].forEach(t=>{const n=t.getAttribute("name"),r=t.innerHTML.substring(9,t.innerHTML.length-3);"map_file"===n&&(e.map=r)});let a={};o&&(a.group=o),i&&"chapter"!=i&&(a.type=i),[...t.children].forEach(t=>{const e=t.getAttribute("name"),n=t.innerHTML.substring(9,t.innerHTML.length-3);"chapter_title"===e&&n&&(a.title=n),"description"===e&&(a.data=n),"map_position"===e&&(a.map=n),e.startsWith("flag_")&&"true"===n&&(a.flags||(a.flags=[]),a.flags.push(e.substring(5)))}),n[r]=a}),{info:e,entities:n}};var Te='<?xml version="1.0" encoding="UTF-8"?><entities><entity group="" name="1" type="chapter"><attribute name="description" type="string"><![CDATA[<p>\n  </p>]]></attribute><attribute name="chapter_title" type="string"/><attribute name="flag_final" type="boolean"><![CDATA[false]]></attribute><attribute name="flag_fixed" type="boolean"><![CDATA[false]]></attribute><attribute name="flag_death" type="boolean"><![CDATA[false]]></attribute></entity><entity group="setup" name="game" type="entity"><attribute name="description" type="string"><![CDATA[<p></p>]]></attribute><attribute name="chapter_title" type="string"/><attribute name="lgc_version" type="string"><![CDATA[3.3.14.102]]></attribute><attribute name="title" type="string"/><attribute name="author" type="string"/><attribute name="version" type="string"/><attribute name="revision" type="integer"><![CDATA[1]]></attribute><attribute name="editing_action" type="string"><![CDATA[WRITING]]></attribute><attribute name="table_of_contents" type="string"><![CDATA[P(ALL)]]></attribute><attribute name="editing_chapter" type="string"><![CDATA[1]]></attribute></entity><entity group="" name="intro" type="section"><attribute name="description" type="string"><![CDATA[<p></p>]]></attribute><attribute name="chapter_title" type="string"><![CDATA[Introduzione]]></attribute></entity><entity group="" name="rules" type="section"><attribute name="description" type="string"><![CDATA[<p></p>]]></attribute><attribute name="chapter_title" type="string"><![CDATA[Regole]]></attribute></entity></entities>';const Ee="lgcjs-filename",Se="lgcjs-book",Fe="lgcjs-currententity",qe=(t,e)=>localStorage.getItem(t)||e,Le=t=>JSON.parse(JSON.stringify(t)),Ne=new function(){let t=qe(Ee,"empty.xlgc");const{subscribe:e,set:n}=V(t);Object.assign(this,{subscribe:e,set:e=>(t=e,n(e)),get:()=>t})};let Ie=(Me=Se,ze=_e(Te),JSON.parse(qe(Me,"null"))||ze);var Me,ze;window.book=()=>Ie;const Pe=new function(){let t="";const{subscribe:e,set:n}=V(null),r=e=>{const r=t;return t=""===e||e&&e in Ie.entities?e:Object.keys(Ie.entities)[0],n(t),r};r(qe(Fe)),Object.assign(this,{subscribe:e,set:r,update:e=>r(e(t)),unload:()=>r(""),getObj:()=>Le(Re.entities[t])})},Re=new function(){const{subscribe:t,set:e}=V(Ie),n=()=>Object.freeze(Le(Ie)),r=t=>{Ie=t,Pe.update(t=>t),e(n())},i=async(t,e)=>{Pe.unload(),await F(),Ne.set(t),r(_e(e)),Pe.set(Object.keys(Ie.entities)[0])};Object.assign(this,{getData:n,subscribe:t,set:r,update:t=>r(t(Ie)||Ie),load:i,save:async t=>{const e=Pe.unload();var n,r;await F(),await t(Ne.get(),(n=Ie,`<?xml version="1.0" encoding="UTF-8"?><entities>${r=n.info,'<entity group="setup" name="game" type="entity"><attribute name="description" type="string"><![CDATA[<p></p>]]></attribute><attribute name="chapter_title" type="string"/>'+`<attribute name="lgc_version" type="string"><![CDATA[${r.lgc_version||""}]]></attribute>`+`<attribute name="title" type="string"><![CDATA[${r.title||""}]]></attribute>`+`<attribute name="author" type="string"><![CDATA[${r.author||""}]]></attribute>`+`<attribute name="version" type="string"><![CDATA[${r.version||""}]]></attribute>`+`<attribute name="revision" type="integer"><![CDATA[${r.revision||"1"}]]></attribute>`+`<attribute name="editing_action" type="string"><![CDATA[${r.editing_action||"WRITING"}]]></attribute>`+`<attribute name="table_of_contents" type="string"><![CDATA[${r.table_of_contents||"P(ALL)"}]]></attribute>`+`<attribute name="editing_chapter" type="string"><![CDATA[${r.editing_chapter||"1"}]]></attribute>`+"</entity>"+(t=>t.map?'<entity group="setup" name="map_data" type="entity"><attribute name="description" type="string"><![CDATA[<p></p>]]></attribute><attribute name="chapter_title" type="string"/>'+`<attribute name="map_file" type="string"><![CDATA[${t.map}]]></attribute>`+"</entity>":"")(n.info)+Object.entries(n.entities).reduce((t,e)=>t+((t,e)=>`<entity group="${e.group||""}" name="${t}" type="${e.type||"chapter"}">`+`<attribute name="description" type="string"><![CDATA[${e.data||"<p></p>"}]]></attribute>`+`<attribute name="chapter_title" type="string"><![CDATA[${e.title||""}]]></attribute>`+`${e.type&&"chapter"!==e.type?"":`<attribute name="flag_final" type="boolean"><![CDATA[${e.flags&&e.flags.includes("final")?"true":"false"}]]></attribute>`+`<attribute name="flag_fixed" type="boolean"><![CDATA[${e.flags&&e.flags.includes("fixed")?"true":"false"}]]></attribute>`+`<attribute name="flag_death" type="boolean"><![CDATA[${e.flags&&e.flags.includes("death")?"true":"false"}]]></attribute>`}`+(e.map?`<attribute name="map_position" type="string"><![CDATA[${e.map||""}]]></attribute>`:"")+"</entity>")(...e),"")}</entities>`)),Pe.set(e)},exportBook:async t=>{const e=Pe.unload();await F(),await t(Ne.get(),n()),Pe.set(e)},empty:()=>i("empty.xlgc",Te),availableKey:()=>{for(let t=1;t<5e3;t++){const e=String(t);if(!(e in Ie.entities))return e}}})};Ne.subscribe(t=>localStorage.setItem(Ee,t)),Pe.subscribe(t=>localStorage.setItem(Fe,t)),Re.subscribe(()=>localStorage.setItem(Se,JSON.stringify(Ie))),window.addEventListener("unload",()=>{localStorage.setItem(Fe,Pe.unload())});const He={empty:()=>({group:"",title:"",flags:[],data:"<p></p>"}),format:t=>{const e={...He.empty(),...t};return""==e.title&&delete e.title,""==e.group&&delete e.group,""!=e.type&&"chapter"!=e.type||delete e.type,e.flags&&0!==e.flags.length||delete e.flags,e}};function Be(e){let n,i,o,a,s,l,p,g,h,v,w,A,$;return{c(){n=d("div"),i=d("div"),a=m(),s=d("div"),p=m(),g=d("div"),v=m(),w=d("div"),y(i,"class","icon-flash svelte-1rv1962"),y(i,"title",o=e[0]("sidemenu.actions.quickadd")),y(s,"class","icon-plus svelte-1rv1962"),y(s,"title",l=e[0]("sidemenu.actions.add")),y(g,"class","icon-pencil svelte-1rv1962"),y(g,"title",h=e[0]("sidemenu.actions.edit")),y(w,"class","icon-cancel svelte-1rv1962"),y(w,"title",A=e[0]("sidemenu.actions.delete")),y(n,"class","buttons svelte-1rv1962")},m(t,r){u(t,n,r),c(n,i),c(n,a),c(n,s),c(n,p),c(n,g),c(n,v),c(n,w),$=[b(i,"click",e[1]),b(s,"click",e[2]),b(g,"click",e[3]),b(w,"click",e[4])]},p(t,[e]){1&e&&o!==(o=t[0]("sidemenu.actions.quickadd"))&&y(i,"title",o),1&e&&l!==(l=t[0]("sidemenu.actions.add"))&&y(s,"title",l),1&e&&h!==(h=t[0]("sidemenu.actions.edit"))&&y(g,"title",h),1&e&&A!==(A=t[0]("sidemenu.actions.delete"))&&y(w,"title",A)},i:t,o:t,d(t){t&&f(n),r($)}}}function Ze(t,e,n){let r,i;s(t,Re,t=>n(6,r=t)),s(t,ke,t=>n(0,i=t));let{foreground:o=!1}=e;return t.$set=t=>{"foreground"in t&&n(5,o=t.foreground)},[i,()=>{const t=Re.availableKey();Re.update(e=>{e.entities[t]={data:"<p></p>"}}),Pe.set(t),n(5,o=!1)},async()=>{const t=He.empty(),{key:e,obj:i}=await De("dialogs.entity.add",Re.availableKey(),t);e&&(e in r.entities?await alert("dialogs.error","dialogs.entity.exists"):(Re.update(n=>{n.entities[e]=He.format({...t,...i})}),(t=>{n(5,o=!1),Pe.set(t)})(e)))},async()=>{const t=Pe.unload(),e=r.entities[t],{key:i,obj:a}=await De("dialogs.entity.edit",t,e);if(i){if(t!==i&&i in r.entities)return Pe.set(t),void await((t,e)=>je({dialog:"alert",params:{title:t,text:e}}))("dialog.error","dialogs.entity.exists");await F(),Re.update(n=>{delete n.entities[t],n.entities[i]={...e,...a}}),Pe.set(i),n(5,o=!1)}else Pe.set(t)},async()=>{const t=Pe.unload();if(await Ce("dialogs.confirm","dialogs.entity.delete")){await F();const e=Object.keys(r.entities).indexOf(t)-1;Re.update(e=>{delete e.entities[t]}),Pe.set(Object.keys(r.entities)[Math.max(e,0)]),n(5,o=!1)}else Pe.set(t)},o]}class Je extends W{constructor(t){super(),U(this,t,Ze,Be,o,{foreground:5})}}function Ge(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function Ue(t){let e,n,r,i,o,a=t[5]+"";function s(...e){return t[3](t[4],...e)}return{c(){e=d("button"),n=g(a),r=m(),y(e,"class",i=l("tablinks"+(t[4]===t[0]?" active":""))+" svelte-qnz593")},m(t,i){u(t,e,i),c(e,n),c(e,r),o=b(e,"click",s)},p(r,o){t=r,2&o&&a!==(a=t[5]+"")&&v(n,a),3&o&&i!==(i=l("tablinks"+(t[4]===t[0]?" active":""))+" svelte-qnz593")&&y(e,"class",i)},d(t){t&&f(e),o()}}}function We(e){let n,r=Object.entries(e[1]),i=[];for(let t=0;t<r.length;t+=1)i[t]=Ue(Ge(e,r,t));return{c(){n=d("div");for(let t=0;t<i.length;t+=1)i[t].c();y(n,"class","tab svelte-qnz593")},m(t,e){u(t,n,e);for(let t=0;t<i.length;t+=1)i[t].m(n,null)},p(t,[e]){if(3&e){let o;for(r=Object.entries(t[1]),o=0;o<r.length;o+=1){const a=Ge(t,r,o);i[o]?i[o].p(a,e):(i[o]=Ue(a),i[o].c(),i[o].m(n,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=r.length}},i:t,o:t,d(t){t&&f(n),p(i,t)}}}function Qe(t,e,n){let{tabs:r={}}=e,{active:i=Object.keys(r)[0]}=e,{expandable:o=!1}=e;return t.$set=t=>{"tabs"in t&&n(1,r=t.tabs),"active"in t&&n(0,i=t.active),"expandable"in t&&n(2,o=t.expandable)},[i,r,o,t=>n(0,i=t)]}class Ve extends W{constructor(t){super(),U(this,t,Qe,We,o,{tabs:1,active:0,expandable:2})}}function Ke(e){let n,r,i,o;const a=new Ve({props:{tabs:e[1]}});return{c(){n=d("section"),Z(a.$$.fragment),r=m(),i=d("iframe"),y(i,"title","emulator"),y(n,"class","devpanel svelte-zompxd")},m(t,s){u(t,n,s),J(a,n,null),c(n,r),c(n,i),e[3](i),o=!0},p:t,i(t){o||(R(a.$$.fragment,t),o=!0)},o(t){H(a.$$.fragment,t),o=!1},d(t){t&&f(n),G(a),e[3](null)}}}function Xe(t,e,n){let r=null;const i=()=>{r.contentDocument.open(),r.contentDocument.write('<html>\n<head>\n  <title>Emulator</title>\n  <script src="./emulator/vue/vue.js"><\/script>\n  <link rel="stylesheet" type="text/css" href="./static/zmdi/css/material-design-iconic-font.min.css">\n  <link rel="stylesheet" type="text/css" href="./emulator/example.css">\n  <style>\n    .navbar {\n      box-shadow: 0 4px 5px -4px rgba(0,0,0,.5);\n      -webkit-app-region: drag;\n      box-sizing: border-box;\n      color: #fff;\n      text-overflow: ellipsis;\n      width: 100vw;\n      background-color: #df3000;\n      font-weight: 500;\n      font-size: 17px;\n      padding-left: 15px;\n      line-height: 40px;\n      word-spacing: 0;\n    }\n\n    .navbar i {\n      padding-right: 18px;\n    }\n    p {\n      margin-top: 16px;\n      margin-left: 8px;\n      color: #555;\n    }\n    body{\n      background-color: #fefefe;\n      user-select: none; \n    }\n  </style>\n</head>\n<body>\n  <div id="app">\n    <div class="navbar"><i class="zmdi zmdi-menu"></i>Emulator</div>\n    <p>{{ message }}</p>\n  </div>\n\n  <script>\n  var app = new Vue({\n    el: \'#app\',\n    data: {\n      message: \'Hello Vue!\'\n    }\n  })\n  <\/script>\n</body>\n</html>\n'),r.contentDocument.close()};O(()=>{i()});return[r,{emulator:"Emulator",status:"Status",console:"Console"},i,function(t){C[t?"unshift":"push"](()=>{n(0,r=t)})}]}class Ye extends W{constructor(t){super(),U(this,t,Xe,Ke,o,{})}}function tn(t,e,n){const r=t.slice();return r[23]=e[n],r}function en(t){let e,n,r;function i(t,e){return"alert"===t[0]?on:"confirm"===t[0]?rn:"entity"===t[0]?nn:void 0}let o=i(t),a=o&&o(t);return{c(){e=d("div"),n=m(),r=d("div"),a&&a.c(),y(e,"class","dialog-mask svelte-1g9fqaq"),y(r,"class","dialog-container svelte-1g9fqaq")},m(t,i){u(t,e,i),u(t,n,i),u(t,r,i),a&&a.m(r,null)},p(t,e){o===(o=i(t))&&a?a.p(t,e):(a&&a.d(1),a=o&&o(t),a&&(a.c(),a.m(r,null)))},d(t){t&&f(e),t&&f(n),t&&f(r),a&&a.d()}}}function nn(t){let e,n,i,o,a,s,l,p,h,A,$,x,k,O,j,C,D,_,T,E,S,F,q,L,N,I,M,z,P,R,H,B,Z,J,G,U=t[9](t[2].title)+"",W=t[9]("dialogs.entity.name")+"",Q=t[9]("dialogs.entity.type")+"",V=t[9]("dialogs.entity.group")+"",K=t[9]("dialogs.entity.title")+"",X=(!t[4]||"chapter"===t[4])&&an(t);return{c(){e=d("div"),n=d("h3"),i=g(U),o=m(),a=d("p"),s=d("span"),l=g(W),p=m(),h=d("input"),A=m(),$=d("p"),x=d("span"),k=g(Q),O=m(),j=d("input"),C=m(),D=d("p"),_=d("span"),T=g(V),E=m(),S=d("input"),F=m(),q=d("p"),L=d("span"),N=g(K),I=m(),M=d("input"),z=m(),X&&X.c(),P=m(),R=d("button"),H=g(t[8]),B=m(),Z=d("button"),J=g(t[10]),y(n,"class","svelte-1g9fqaq"),y(s,"class","min svelte-1g9fqaq"),y(h,"type","text"),y(x,"class","min svelte-1g9fqaq"),y(j,"type","text"),y(_,"class","min svelte-1g9fqaq"),y(S,"type","text"),y(L,"class","min svelte-1g9fqaq"),y(M,"type","text"),R.autofocus=!0,y(R,"class","ok svelte-1g9fqaq"),y(Z,"class","cancel svelte-1g9fqaq"),y(e,"class","svelte-1g9fqaq")},m(r,f){u(r,e,f),c(e,n),c(n,i),c(e,o),c(e,a),c(a,s),c(s,l),c(a,p),c(a,h),w(h,t[3]),c(e,A),c(e,$),c($,x),c(x,k),c($,O),c($,j),w(j,t[4]),c(e,C),c(e,D),c(D,_),c(_,T),c(D,E),c(D,S),w(S,t[5]),c(e,F),c(e,q),c(q,L),c(L,N),c(q,I),c(q,M),w(M,t[6]),c(e,z),X&&X.m(e,null),c(e,P),c(e,R),c(R,H),c(e,B),c(e,Z),c(Z,J),R.focus(),G=[b(h,"input",t[16]),b(j,"input",t[17]),b(S,"input",t[18]),b(M,"input",t[19]),b(R,"click",t[21]),b(Z,"click",t[22])]},p(t,n){516&n&&U!==(U=t[9](t[2].title)+"")&&v(i,U),512&n&&W!==(W=t[9]("dialogs.entity.name")+"")&&v(l,W),8&n&&h.value!==t[3]&&w(h,t[3]),512&n&&Q!==(Q=t[9]("dialogs.entity.type")+"")&&v(k,Q),16&n&&j.value!==t[4]&&w(j,t[4]),512&n&&V!==(V=t[9]("dialogs.entity.group")+"")&&v(T,V),32&n&&S.value!==t[5]&&w(S,t[5]),512&n&&K!==(K=t[9]("dialogs.entity.title")+"")&&v(N,K),64&n&&M.value!==t[6]&&w(M,t[6]),t[4]&&"chapter"!==t[4]?X&&(X.d(1),X=null):X?X.p(t,n):(X=an(t),X.c(),X.m(e,P)),256&n&&v(H,t[8]),1024&n&&v(J,t[10])},d(t){t&&f(e),X&&X.d(),r(G)}}}function rn(t){let e,n,i,o,a,s,l,p,h,w,A,$,x,k=t[9](t[2].title)+"",O=t[9](t[2].text)+"";return{c(){e=d("div"),n=d("h3"),i=g(k),o=m(),a=d("p"),s=g(O),l=m(),p=d("button"),h=g(t[8]),w=m(),A=d("button"),$=g(t[10]),y(n,"class","svelte-1g9fqaq"),p.autofocus=!0,y(p,"class","ok svelte-1g9fqaq"),y(A,"class","cancel svelte-1g9fqaq"),y(e,"class","svelte-1g9fqaq")},m(r,f){u(r,e,f),c(e,n),c(n,i),c(e,o),c(e,a),c(a,s),c(e,l),c(e,p),c(p,h),c(e,w),c(e,A),c(A,$),p.focus(),x=[b(p,"click",t[14]),b(A,"click",t[15])]},p(t,e){516&e&&k!==(k=t[9](t[2].title)+"")&&v(i,k),516&e&&O!==(O=t[9](t[2].text)+"")&&v(s,O),256&e&&v(h,t[8]),1024&e&&v($,t[10])},d(t){t&&f(e),r(x)}}}function on(t){let e,n,r,i,o,a,s,l,p,h,w=t[9](t[2].title)+"",A=t[9](t[2].text)+"";return{c(){e=d("div"),n=d("h3"),r=g(w),i=m(),o=d("p"),a=g(A),s=m(),l=d("button"),p=g(t[8]),y(n,"class","svelte-1g9fqaq"),l.autofocus=!0,y(l,"class","ok svelte-1g9fqaq"),y(e,"class","svelte-1g9fqaq")},m(f,d){u(f,e,d),c(e,n),c(n,r),c(e,i),c(e,o),c(o,a),c(e,s),c(e,l),c(l,p),l.focus(),h=b(l,"click",t[13])},p(t,e){516&e&&w!==(w=t[9](t[2].title)+"")&&v(r,w),516&e&&A!==(A=t[9](t[2].text)+"")&&v(a,A),256&e&&v(p,t[8])},d(t){t&&f(e),h()}}}function an(t){let e,n=["final","fixed","death"],r=[];for(let e=0;e<3;e+=1)r[e]=sn(tn(t,n,e));return{c(){e=d("div");for(let t=0;t<3;t+=1)r[t].c();y(e,"class","flags svelte-1g9fqaq")},m(t,n){u(t,e,n);for(let t=0;t<3;t+=1)r[t].m(e,null)},p(t,i){if(128&i){let o;for(n=["final","fixed","death"],o=0;o<3;o+=1){const a=tn(t,n,o);r[o]?r[o].p(a,i):(r[o]=sn(a),r[o].c(),r[o].m(e,null))}for(;o<3;o+=1)r[o].d(1)}},d(t){t&&f(e),p(r,t)}}}function sn(t){let e,n;function r(...e){return t[20](t[23],...e)}return{c(){e=d("div"),e.innerHTML=`<img src="${`./static/flags/${t[23]}.png`}" class="svelte-1g9fqaq"> \n              `,y(e,"class","svelte-1g9fqaq"),$(e,"selected",t[7][t[23]])},m(t,i){u(t,e,i),n=b(e,"click",r)},p(n,r){t=n,128&r&&$(e,"selected",t[7][t[23]])},d(t){t&&f(e),n()}}}function ln(e){let n,r=e[0]&&en(e);return{c(){r&&r.c(),n=h()},m(t,e){r&&r.m(t,e),u(t,n,e)},p(t,[e]){t[0]?r?r.p(t,e):(r=en(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:t,o:t,d(t){r&&r.d(t),t&&f(n)}}}function cn(t,e,n){let r,i,o,a,l,c,u,f,p;s(t,ke,t=>n(9,r=t));const d=()=>Object.keys(p).filter(t=>p[t]);Oe.subscribe(t=>{if(n(0,({dialog:i,callback:o,params:a}=t),i,n(1,o),n(2,a)),"entity"==i){n(3,l=a.key),n(4,({type:c,group:u,title:f}=a.props),c,n(5,u),n(6,f));const t=a.props.flags||[];n(7,p={final:t.includes("final"),fixed:t.includes("fixed"),death:t.includes("death")})}});let g,m;return t.$$.update=()=>{512&t.$$.dirty&&n(8,g=r("dialogs.ok")),512&t.$$.dirty&&n(10,m=r("dialogs.cancel"))},[i,o,a,l,c,u,f,p,g,r,m,d,void 0,()=>o(!0),()=>o(!0),()=>o(!1),function(){l=this.value,n(3,l)},function(){c=this.value,n(4,c)},function(){u=this.value,n(5,u)},function(){f=this.value,n(6,f)},t=>n(7,p[t]=!p[t],p),()=>o({key:l,obj:{type:c,group:u,title:f,flags:d()}}),()=>o({})]}class un extends W{constructor(t){super(),U(this,t,cn,ln,o,{})}}const fn=(t,e,n,r,i=(t=>t))=>{const o=class extends(t.import("blots/inline")){static create(){return i(super.create())}static formats(){return""}formatAt(t,e,r,i){if(r===n)return super.formatAt(t,e,r,i)}};o.blotName=n,o.tagName=r,t.register(e,o)};function pn(t,e,n){t.debug("error"),fn(t,"formats/link","link","A",t=>(t.addEventListener("click",(function(){const[t,e]=this.childNodes[0].nodeValue.split(":");n(t.substring(6),e.substring(0,e.length-1))})),t.setAttribute("href","#"),t)),fn(t,"formats/todo","todo","todo"),fn(t,"formats/lgcode","lgcode","lgcode");const r={link:/{link \w+:(\w|@)+}/g,todo:/{todo [^\}\{]+}/g,lgcode:/{{(?:(?!\}\})[^])*(}})/g},i=(t=!0)=>{t?Object.keys(r).forEach(t=>{((t,e,n)=>{const r=t.getText();let i=0;(r.match(n)||[]).forEach(n=>{const o=r.indexOf(n,i);i=o+n.length-1,t.formatText(o,n.length,e,!0)})})(e,t,r[t])}):Object.keys(r).forEach(t=>{e.formatText(0,e.getText().length,t,!1)})},o=function(t,e,n){"user"==n&&(i(!1),i(!0))};this.highlight=i,this.start=()=>e.on("text-change",o),this.stop=()=>e.off("text-change",o)}let dn=null,gn=null,mn="";const hn=t=>{dn.setContents([]);const e=Re.getData();dn.clipboard.dangerouslyPasteHTML(0,e.entities[t].data),gn.highlight(!0),gn.start()};window.hljs&&window.hljs.configure({languages:["xml"]});function bn(e){let n,r,i;return{c(){n=d("div"),r=d("div"),y(r,"id","text-editor"),A(r,"border","none"),A(r,"font-size","115%"),y(n,"class","editor-container"),y(n,"style",i=e[0]?"z-index: 2000;":"")},m(t,e){u(t,n,e),c(n,r)},p(t,[e]){1&e&&i!==(i=t[0]?"z-index: 2000;":"")&&y(n,"style",i)},i:t,o:t,d(t){t&&f(n)}}}function yn(t,e,n){let{foreground:r=!1}=e;return O(async()=>{var t;await F(),t="#text-editor",dn=new window.Quill(t,{modules:{syntax:!!window.hljs,toolbar:[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean","code-block"]]},theme:"snow"}),gn=new pn(window.Quill,dn,t=>{const e=Re.getData();t in e.entities||Re.update(e=>{e.entities[String(t)]={data:"<p></p>"}}),Pe.set(t)}),""!=mn&&hn(mn)}),t.$set=t=>{"foreground"in t&&n(0,r=t.foreground)},t.$$.update=()=>{1&t.$$.dirty&&r&&dn&&dn.focus()},[r]}Pe.subscribe(t=>{dn?(""!=mn&&(t=>{gn.stop(),gn.highlight(!1),Re.update(e=>{e.entities[t].data=dn.root.innerHTML})})(mn),mn=t,""!=mn&&hn(mn)):mn=t});class vn extends W{constructor(t){super(),U(this,t,yn,bn,o,{foreground:0})}}const wn=JSON.parse(localStorage.getItem("lgcjs-settings")||"{}"),An=((t,e)=>{const n=wn.hasOwnProperty(t)?wn[t]:e,{set:r,update:i,subscribe:o}=V(n),a=()=>localStorage.setItem("lgcjs-settings",JSON.stringify(wn));return{set:e=>{wn[t]=e,a(),r(e)},update:e=>i(n=>(wn[t]=e(n),a(),wn[t])),subscribe:o}})("showcode",!1);function $n(t){let e,n,r,i;function o(e){t[5].call(null,e)}let a={tabs:t[1]};void 0!==t[0]&&(a.active=t[0]);const s=new Ve({props:a});C.push(()=>B(s,"active",o));const l=new vn({props:{foreground:"text"===t[0]}});return{c(){e=d("section"),Z(s.$$.fragment),r=m(),Z(l.$$.fragment),y(e,"class","editor")},m(t,n){u(t,e,n),J(s,e,null),c(e,r),J(l,e,null),i=!0},p(t,[e]){const r={};2&e&&(r.tabs=t[1]),!n&&1&e&&(n=!0,r.active=t[0],L(()=>n=!1)),s.$set(r);const i={};1&e&&(i.foreground="text"===t[0]),l.$set(i)},i(t){i||(R(s.$$.fragment,t),R(l.$$.fragment,t),i=!0)},o(t){H(s.$$.fragment,t),H(l.$$.fragment,t),i=!1},d(t){t&&f(e),G(s),G(l)}}}function xn(t,e,n){let r,i,o;s(t,Pe,t=>n(2,r=t)),s(t,Re,t=>n(3,i=t)),s(t,An,t=>n(4,o=t));let a,l="text";return t.$$.update=()=>{28&t.$$.dirty&&n(1,a={text:""==r?"":`${r} ${i.entities[r].title?" - "+i.entities[r].title:""}`,...o&&{code:"CodeEditor"}})},[l,a,r,i,o,function(t){l=t,n(0,l)}]}class kn extends W{constructor(t){super(),U(this,t,xn,$n,o,{})}}const On=(t,e)=>{var n=document.createElement("a");n.setAttribute("href","data:text/xml;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},jn=document.createElement("div");function Cn(t){return jn.innerHTML=t,jn.textContent||jn.innerText||""}var Dn={file:{new:{type:"button",handler:async()=>{await Ce("dialogs.confirm","dialogs.text.new")&&Re.empty()}},open:{type:"fileinput",accept:".xlgc",handler:Re.load},save:{type:"button",handler:()=>Re.save(On)}},export:{json:{type:"button",handler:()=>{Re.exportBook((t,e)=>On(t+".json",JSON.stringify(e,null,2)))}},appjs:{type:"button",handler:()=>{Re.exportBook((t,e)=>On(t+".js",(t=>{return"export default "+JSON.stringify({info:{...t.info},entities:(e=t.entities,n=e=>{let n=e.data.replace(/<p[^>]*>/g,"").replace(/<\/p>/g,"<br>").replace(/{todo [^\}\{]+}/g,"").replace(/{{( )*\/if( )*}}/g,"</lgc-if>").replace(/{{( )*else( )*}}/g,"</lgc-if><lgc-if v-else>");(n.match(/{link \w+:(\w|@)+}/g)||[]).forEach(e=>{let[r,i]=e.split(":");r=Cn(r.substring(6)),i=Cn(i.substring(0,i.length-1).trim()),"@T"===i&&(i=t.entities[r].title||r),n=n.replace(e,`<lgc-link to="${r}">${i}</lgc-link>`)}),(n.match(/{{(?:(?!}})[^])*(}})/g)||[]).forEach(t=>{n=n.replace(t,Cn(t))}),(n.match(/{{if(\s)*\"(?:(?!\}\})[^])+\"(\s)*(}})/g)||[]).forEach(t=>{const e=t.substring(t.indexOf('"')+1,t.lastIndexOf('"'));n=n.replace(t,`<lgc-if v-if="${e}">`)}),(n.match(/{{(\s)*\<(?:(?!\>( )*\}\})[^])+\>(\s)*(}})/g)||[]).forEach(t=>{const e=t.substring(t.indexOf("<"),t.lastIndexOf(">")+1);n=n.replace(t,e)});const r={data:n};return e.title&&""!==e.title&&(r.title=e.title),r},Object.fromEntries(Object.entries(e).map(([t,e],r)=>[t,n(e,t,r)])))});var e,n})(e)))}}},code:{togglecode:{type:"button",handler:()=>An.update(t=>!t)}},help:{guide:{type:"link",href:""},forum:{type:"link",href:"http://www.librogame.net/index.php/forum/topic?id=5182&p=1#p148583"},about:{type:"button",handler:null}}};function _n(t,e,n){const r=t.slice();return r[9]=e[n][0],r[10]=e[n][1],r}function Tn(t,e,n){const r=t.slice();return r[5]=e[n][0],r[6]=e[n][1],r}function En(t){let e,n,r,i,o,a,s,l=t[1](`navbar.${t[5]}.items.${t[9]}`)+"";function p(...e){return t[3](t[10],...e)}return{c(){e=d("input"),r=m(),i=d("label"),o=g(l),y(e,"type","file"),y(e,"name","file"),y(e,"id",n=`${t[5]}_${t[9]}`),y(e,"accept",".xlgc"),y(e,"class","svelte-12chmdb"),y(i,"for",a=`${t[5]}_${t[9]}`),y(i,"class","svelte-12chmdb")},m(t,n){u(t,e,n),u(t,r,n),u(t,i,n),c(i,o),s=b(e,"change",p)},p(e,n){t=e,2&n&&l!==(l=t[1](`navbar.${t[5]}.items.${t[9]}`)+"")&&v(o,l)},d(t){t&&f(e),t&&f(r),t&&f(i),s()}}}function Sn(t){let e,n,r,i=t[1](`navbar.${t[5]}.items.${t[9]}`)+"";return{c(){e=d("a"),n=g(i),y(e,"href",r=t[10].href),y(e,"target","_blank"),y(e,"class","svelte-12chmdb")},m(t,r){u(t,e,r),c(e,n)},p(t,e){2&e&&i!==(i=t[1](`navbar.${t[5]}.items.${t[9]}`)+"")&&v(n,i)},d(t){t&&f(e)}}}function Fn(t){let e,n,r,i=t[1](`navbar.${t[5]}.items.${t[9]}`)+"";function o(...e){return t[2](t[10],...e)}return{c(){e=d("a"),n=g(i),y(e,"href","javascript:void(0)"),y(e,"class","svelte-12chmdb")},m(t,i){u(t,e,i),c(e,n),r=b(e,"click",o)},p(e,r){t=e,2&r&&i!==(i=t[1](`navbar.${t[5]}.items.${t[9]}`)+"")&&v(n,i)},d(t){t&&f(e),r()}}}function qn(t){let e;let n=function(t,e){return"button"===t[10].type?Fn:"link"===t[10].type?Sn:"fileinput"===t[10].type?En:void 0}(t),r=n&&n(t);return{c(){r&&r.c(),e=h()},m(t,n){r&&r.m(t,n),u(t,e,n)},p(t,e){r.p(t,e)},d(t){r&&r.d(t),t&&f(e)}}}function Ln(t){let e,n,r,i,o,a=t[1](`navbar.${t[5]}.title`)+"",s=Object.entries(t[6]),l=[];for(let e=0;e<s.length;e+=1)l[e]=qn(_n(t,s,e));return{c(){e=d("li"),n=d("a"),r=g(a),i=m(),o=d("div");for(let t=0;t<l.length;t+=1)l[t].c();y(n,"href","javascript:void(0)"),y(n,"class","dropbtn svelte-12chmdb"),y(o,"class","dropdown-content svelte-12chmdb"),y(e,"class","dropdown svelte-12chmdb")},m(t,a){u(t,e,a),c(e,n),c(n,r),c(e,i),c(e,o);for(let t=0;t<l.length;t+=1)l[t].m(o,null)},p(t,e){if(2&e&&a!==(a=t[1](`navbar.${t[5]}.title`)+"")&&v(r,a),2&e){let n;for(s=Object.entries(t[6]),n=0;n<s.length;n+=1){const r=_n(t,s,n);l[n]?l[n].p(r,e):(l[n]=qn(r),l[n].c(),l[n].m(o,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}},d(t){t&&f(e),p(l,t)}}}function Nn(e){let n,r,i,o,a,s,g=Object.entries(Dn),h=[];for(let t=0;t<g.length;t+=1)h[t]=Ln(Tn(e,g,t));return{c(){n=d("ul");for(let t=0;t<h.length;t+=1)h[t].c();r=m(),i=d("li"),o=d("a"),y(o,"href","javascript:void(0)"),y(o,"class",a=l("dropbtn icon-"+(e[0]?"cancel":"menu"))+" svelte-12chmdb"),y(i,"class","sidemenu-button svelte-12chmdb"),y(n,"class","svelte-12chmdb")},m(t,a){u(t,n,a);for(let t=0;t<h.length;t+=1)h[t].m(n,null);c(n,r),c(n,i),c(i,o),s=b(o,"click",e[4])},p(t,[e]){if(2&e){let i;for(g=Object.entries(Dn),i=0;i<g.length;i+=1){const o=Tn(t,g,i);h[i]?h[i].p(o,e):(h[i]=Ln(o),h[i].c(),h[i].m(n,r))}for(;i<h.length;i+=1)h[i].d(1);h.length=g.length}1&e&&a!==(a=l("dropbtn icon-"+(t[0]?"cancel":"menu"))+" svelte-12chmdb")&&y(o,"class",a)},i:t,o:t,d(t){t&&f(n),p(h,t),s()}}}function In(t,e,n){let r;s(t,ke,t=>n(1,r=t));let{showSidemenu:i=!1}=e;return t.$set=t=>{"showSidemenu"in t&&n(0,i=t.showSidemenu)},[i,r,t=>{t.handler()},(t,e)=>((t,e)=>{const n=t.files[0],r=n.name,i=new FileReader;i.onload=()=>{e(r,i.result),t.value=""},i.readAsText(n)})(e.srcElement,t.handler),()=>n(0,i=!i)]}class Mn extends W{constructor(t){super(),U(this,t,In,Nn,o,{showSidemenu:0})}}function zn(t,e,n){const r=t.slice();return r[12]=e[n],r}function Pn(t,e,n){const r=t.slice();return r[17]=e[n],r}function Rn(t,e,n){const r=t.slice();return r[12]=e[n],r}function Hn(t){let e,n;return{c(){e=d("img"),e.src!==(n=`./static/flags/${t[17]}.png`)&&y(e,"src",n)},m(t,n){u(t,e,n)},p(t,r){6&r&&e.src!==(n=`./static/flags/${t[17]}.png`)&&y(e,"src",n)},d(t){t&&f(e)}}}function Bn(t){let e,n,r,i,o,a,s,l=t[12]+"",h=(t[2].entities[t[12]].title||"")+"",w=t[2].entities[t[12]].flags||[],A=[];for(let e=0;e<w.length;e+=1)A[e]=Hn(Pn(t,w,e));function x(...e){return t[10](t[12],...e)}return{c(){e=d("p"),n=g(l),r=m(),i=d("b"),o=g(h),a=m();for(let t=0;t<A.length;t+=1)A[t].c();y(i,"class","svelte-1nna00j"),y(e,"class","svelte-1nna00j"),$(e,"selected",t[12]==t[5])},m(t,l){u(t,e,l),c(e,n),c(e,r),c(e,i),c(i,o),c(e,a);for(let t=0;t<A.length;t+=1)A[t].m(e,null);s=b(e,"click",x)},p(r,i){if(t=r,2&i&&l!==(l=t[12]+"")&&v(n,l),6&i&&h!==(h=(t[2].entities[t[12]].title||"")+"")&&v(o,h),6&i){let n;for(w=t[2].entities[t[12]].flags||[],n=0;n<w.length;n+=1){const r=Pn(t,w,n);A[n]?A[n].p(r,i):(A[n]=Hn(r),A[n].c(),A[n].m(e,null))}for(;n<A.length;n+=1)A[n].d(1);A.length=w.length}34&i&&$(e,"selected",t[12]==t[5])},d(t){t&&f(e),p(A,t),s()}}}function Zn(t){let e,n,r,i,o,a,s,l=t[12]+"",p=(t[2].entities[t[12]].title||"")+"";function h(...e){return t[11](t[12],...e)}return{c(){e=d("p"),n=g(l),r=m(),i=d("b"),o=g(p),a=m(),y(i,"class","svelte-1nna00j"),y(e,"class","svelte-1nna00j"),$(e,"selected",t[12]==t[5])},m(t,l){u(t,e,l),c(e,n),c(e,r),c(e,i),c(i,o),c(e,a),s=b(e,"click",h)},p(r,i){t=r,8&i&&l!==(l=t[12]+"")&&v(n,l),12&i&&p!==(p=(t[2].entities[t[12]].title||"")+"")&&v(o,p),40&i&&$(e,"selected",t[12]==t[5])},d(t){t&&f(e),s()}}}function Jn(t){let e,n,r,i,o,a,s,l,h,b,w,A,x=t[4]("sidemenu.chapters")+"",k=t[4]("sidemenu.sections")+"";function O(e){t[9].call(null,e)}let j={};void 0!==t[0]&&(j.foreground=t[0]);const D=new Je({props:j});C.push(()=>B(D,"foreground",O));let _=t[1],T=[];for(let e=0;e<_.length;e+=1)T[e]=Bn(Rn(t,_,e));let E=t[3],S=[];for(let e=0;e<E.length;e+=1)S[e]=Zn(zn(t,E,e));return{c(){e=d("section"),Z(D.$$.fragment),r=m(),i=d("div"),o=d("h1"),a=g(x),s=m();for(let t=0;t<T.length;t+=1)T[t].c();l=m(),h=d("h1"),b=g(k),w=m();for(let t=0;t<S.length;t+=1)S[t].c();y(o,"class","svelte-1nna00j"),y(h,"class","svelte-1nna00j"),y(i,"class","svelte-1nna00j"),y(e,"class","svelte-1nna00j"),$(e,"foreground",t[0])},m(t,n){u(t,e,n),J(D,e,null),c(e,r),c(e,i),c(i,o),c(o,a),c(i,s);for(let t=0;t<T.length;t+=1)T[t].m(i,null);c(i,l),c(i,h),c(h,b),c(i,w);for(let t=0;t<S.length;t+=1)S[t].m(i,null);A=!0},p(t,[r]){const o={};if(!n&&1&r&&(n=!0,o.foreground=t[0],L(()=>n=!1)),D.$set(o),(!A||16&r)&&x!==(x=t[4]("sidemenu.chapters")+"")&&v(a,x),102&r){let e;for(_=t[1],e=0;e<_.length;e+=1){const n=Rn(t,_,e);T[e]?T[e].p(n,r):(T[e]=Bn(n),T[e].c(),T[e].m(i,l))}for(;e<T.length;e+=1)T[e].d(1);T.length=_.length}if((!A||16&r)&&k!==(k=t[4]("sidemenu.sections")+"")&&v(b,k),108&r){let e;for(E=t[3],e=0;e<E.length;e+=1){const n=zn(t,E,e);S[e]?S[e].p(n,r):(S[e]=Zn(n),S[e].c(),S[e].m(i,null))}for(;e<S.length;e+=1)S[e].d(1);S.length=E.length}1&r&&$(e,"foreground",t[0])},i(t){A||(R(D.$$.fragment,t),A=!0)},o(t){H(D.$$.fragment,t),A=!1},d(t){t&&f(e),G(D),p(T,t),p(S,t)}}}function Gn(t,e,n){let r,i,o,a;s(t,Re,t=>n(2,r=t)),s(t,An,t=>n(7,i=t)),s(t,ke,t=>n(4,o=t)),s(t,Pe,t=>n(5,a=t));const l=t=>{n(0,c=!1),Pe.set(t)};let{foreground:c=!1}=e;const u={book:"Libro",...i&&{code:"Code"}};let f,p;return t.$set=t=>{"foreground"in t&&n(0,c=t.foreground)},t.$$.update=()=>{4&t.$$.dirty&&n(1,f=Object.keys(r.entities).filter(t=>!r.entities[t].type||"chapter"===r.entities[t].type)),4&t.$$.dirty&&n(3,p=Object.keys(r.entities).filter(t=>"section"===r.entities[t].type))},[c,f,r,p,o,a,l,i,u,function(t){c=t,n(0,c)},t=>l(t),t=>l(t)]}class Un extends W{constructor(t){super(),U(this,t,Gn,Jn,o,{foreground:0})}}function Wn(t){let e;const n=new Ye({});return{c(){Z(n.$$.fragment)},m(t,r){J(n,t,r),e=!0},i(t){e||(R(n.$$.fragment,t),e=!0)},o(t){H(n.$$.fragment,t),e=!1},d(t){G(n,t)}}}function Qn(t){let e,n,i,o,a,s,l,p,g,h;document.title=e=t[1];const b=new un({});function y(e){t[3].call(null,e)}let v={};void 0!==t[0]&&(v.showSidemenu=t[0]);const w=new Mn({props:v});function A(e){t[4].call(null,e)}C.push(()=>B(w,"showSidemenu",y));let x={};void 0!==t[0]&&(x.foreground=t[0]);const k=new Un({props:x});C.push(()=>B(k,"foreground",A));const O=new kn({});let j=t[2]&&Wn();return{c(){n=m(),Z(b.$$.fragment),i=m(),Z(w.$$.fragment),a=m(),s=d("main"),Z(k.$$.fragment),p=m(),Z(O.$$.fragment),g=m(),j&&j.c(),$(s,"resize",!t[2])},m(t,e){u(t,n,e),J(b,t,e),u(t,i,e),J(w,t,e),u(t,a,e),u(t,s,e),J(k,s,null),c(s,p),J(O,s,null),c(s,g),j&&j.m(s,null),h=!0},p(t,[n]){(!h||2&n)&&e!==(e=t[1])&&(document.title=e);const i={};!o&&1&n&&(o=!0,i.showSidemenu=t[0],L(()=>o=!1)),w.$set(i);const a={};!l&&1&n&&(l=!0,a.foreground=t[0],L(()=>l=!1)),k.$set(a),t[2]?j?R(j,1):(j=Wn(),j.c(),R(j,1),j.m(s,null)):j&&(P={r:0,c:[],p:P},H(j,1,1,()=>{j=null}),P.r||r(P.c),P=P.p),4&n&&$(s,"resize",!t[2])},i(t){h||(R(b.$$.fragment,t),R(w.$$.fragment,t),R(k.$$.fragment,t),R(O.$$.fragment,t),R(j),h=!0)},o(t){H(b.$$.fragment,t),H(w.$$.fragment,t),H(k.$$.fragment,t),H(O.$$.fragment,t),H(j),h=!1},d(t){t&&f(n),G(b,t),t&&f(i),G(w,t),t&&f(a),t&&f(s),G(k),G(O),j&&j.d()}}}function Vn(t,e,n){let r,i;s(t,Ne,t=>n(1,r=t)),s(t,An,t=>n(2,i=t));let o=!1;return[o,r,i,function(t){o=t,n(0,o)},function(t){o=t,n(0,o)}]}var Kn={dialogs:{confirm:"Confermi?",error:"Errore",ok:"Ok",cancel:"Annulla",entity:{add:"Aggiungi entità",edit:"Modifica entità",delete:"L'entità verrà eliminata",exist:"Questa entità esiste già",name:"Nome",type:"Tipo",group:"Gruppo",title:"Titolo"},text:{new:"Il libro verrà sovrascritto se non salvato"}},navbar:{"file.title":"File","file.items":{new:"Nuovo",open:"Apri...",save:"Salva"},"edit.title":"Modifica","edit.items.todo":"Mostra lista to-do","export.title":"Esporta","export.items.json":"Json","export.items.appjs":"App.js","code.title":"Codice","code.items.togglecode":"Apri strumenti sviluppatore","help.title":"Aiuto","help.items":{guide:"Guida",forum:"Forum Lgl",about:"Info"}},sidemenu:{find:"Cerca...",chapters:"Paragrafi",sections:"Sezioni",actions:{quickadd:"Aggiungi rapido",add:"Aggiungi entità",edit:"Modifica entità",delete:"Elimina entità"}}};return Wt("en",{dialogs:{confirm:"Confirm?",error:"Error",ok:"Ok",cancel:"Cancel",entity:{add:"Add entity",edit:"Edit entity",delete:"Entity will be deleted",exist:"Entity already exists",name:"Name",type:"Type",group:"Group",title:"Title"},text:{new:"Book will be overwritten if not saved"}},navbar:{"file.title":"File","file.items":{new:"New",open:"Open...",save:"Download"},"edit.title":"Edit","edit.items.todo":"View to-do list","export.title":"Export","export.items.json":"Json","export.items.appjs":"App.js","code.title":"Code","code.items.togglecode":"Show/hide code tools","help.title":"Help","help.items":{guide:"Guide",forum:"Lgl forum",about:"About"}},sidemenu:{find:"Find...",chapters:"Chapters",sections:"Sections",actions:{quickadd:"Quick add",add:"Add entity",edit:"Edit entity",delete:"Delete entity"}}}),Wt("it-IT",Kn),console.log("lingua",fe()),function(t){const{formats:e}=t,n=Vt(t,["formats"]),r=t.initialLocale||t.fallbackLocale;Object.assign(Kt,n,{initialLocale:r}),e&&("number"in e&&Object.assign(Kt.formats.number,e.number),"date"in e&&Object.assign(Kt.formats.date,e.date),"time"in e&&Object.assign(Kt.formats.time,e.time)),ie.set(r)}({fallbackLocale:"en",initialLocale:fe()}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js")}),new class extends W{constructor(t){super(),U(this,t,Vn,Qn,o,{})}}({target:document.body})}();
